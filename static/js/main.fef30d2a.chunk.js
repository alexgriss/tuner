(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(29)},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(2),i=n.n(o),c=n(7),l=n(1),s=n(13);function u(){var e=Object(c.a)(["\n  ","\n\n  html,\n  body {\n    width: 100%;\n  }\n\n  body {\n    background-color: #303030;\n    font-family: Arial, Helvetica, sans-serif\n  }\n"]);return u=function(){return e},e}var p=Object(l.a)(u(),Object(s.a)()),d=n(10),f=n(11),m=n(14),g=n(12),h=n(15),b=n(17),v=l.b.div.withConfig({displayName:"Meter__Wrapper",componentId:"jlkqnr-0"})(["margin-top:50px;position:relative;display:flex;width:500px;height:250px;"]),w=function(e){e.angle;return"\n  position: absolute;\n  height: 100%;\n  transform-origin: bottom;\n  width: 2px;\n"},x=l.b.div.withConfig({displayName:"Meter__Point",componentId:"jlkqnr-1"})(["",";right:calc(50% - 1px);border-top:","px solid ",";transform:rotate(","deg);"],w,function(e){return e.isStrong?20:10},function(e){return e.isGreen?"#a9c519":"#b2b2b2"},function(e){return e.angle}),S=l.b.div.withConfig({displayName:"Meter__PointValue",componentId:"jlkqnr-2"})(["position:absolute;top:","px;left:50%;transform:translateX(-50%);color:",";"],function(e){return e.isSmallTopMargin?-35:-45},function(e){return e.isGreen?"#a9c519":"#b2b2b2"}),y=l.b.div.withConfig({displayName:"Meter__Pointer",componentId:"jlkqnr-3"})(["",";height:calc(100% - 30px);background-color:#266980;bottom:0;left:50%;transform:translateX(-50%) rotate(","deg);z-index:10;"],w,function(e){return e.angle}),A=l.b.div.withConfig({displayName:"Meter__Dot",componentId:"jlkqnr-4"})(["position:absolute;width:6px;height:6px;border-radius:50%;background-color:#266980;bottom:-3px;left:50%;transform:translateX(-50%);"]),j=[{angle:-45,value:-50},{angle:-36},{angle:-27,value:-30},{angle:-18},{angle:-9},{angle:0,value:0},{angle:9},{angle:18},{angle:27,value:30},{angle:36},{angle:45,value:50}],C=function(e){var t=e.cents,n=Object(b.a)(e,["cents"]);return r.a.createElement(v,n,r.a.createElement(A,null),r.a.createElement(y,{angle:isNaN(t)?0:.9*t}),j.map(function(e,t){return r.a.createElement(x,{key:e.angle,angle:e.angle,isStrong:[0,Math.ceil((j.length-1)/2),j.length-1].some(function(e){return e===t}),isGreen:9===Math.abs(e.angle)||0===e.angle},r.a.createElement(S,{isSmallTopMargin:30===Math.abs(e.value),isGreen:0===e.value},e.value))}))},_=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],E=function(e){var t=Math.log(e/440)/Math.log(2)*12;return Math.round(t)+69},k=function(e){return _[e%12]},M=function(e){return parseInt(e/12)-1},N=function(e,t){return Math.floor(1200*Math.log(e/function(e){return 440*Math.pow(2,(e-69)/12)}(t))/Math.log(2))},I=l.b.div.withConfig({displayName:"App__Wrapper",componentId:"sc-5ij8w8-0"})(["width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),P=l.b.div.withConfig({displayName:"App__Frequency",componentId:"sc-5ij8w8-1"})(["margin-top:15px;color:#fff;font-size:22px;& > span{color:#93ccbf;}"]),T=l.b.div.withConfig({displayName:"App__NoteWrapper",componentId:"sc-5ij8w8-2"})(["margin-top:50px;display:flex;justify-content:center;align-items:baseline;color:#fff;"]),O=l.b.div.withConfig({displayName:"App__Note",componentId:"sc-5ij8w8-3"})(["font-size:96px;line-height:74px;"]),q=l.b.div.withConfig({displayName:"App__Octave",componentId:"sc-5ij8w8-4"})(["font-size:46px;line-height:40px;"]),D=l.b.button.withConfig({displayName:"App__Button",componentId:"sc-5ij8w8-5"})(["display:flex;justify-content:",";align-items:center;width:100px;height:50px;margin-top:40px;border:0;outline:none;background-color:",";padding:5px;cursor:pointer;border-radius:4px;"],function(e){return e.isActive?"flex-end":"flex-start"},function(e){return e.isActive?"#93ccbf":"#fff"}),z=l.b.div.withConfig({displayName:"App__ButtonContent",componentId:"sc-5ij8w8-6"})(["position:relative;width:40px;height:38px;background:",";border-radius:4px;"],function(e){return e.isActive?"#fff":"#93ccbf"}),G=window.Aubio,B={note:"A",octave:4,cents:0,frequency:440,isTunerActive:!1},F=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state=B,n.pitchDetector=null,n.mediaStreamSource=null,n.scriptProcessor=null,n.getAudioContext=function(){return new window.AudioContext},n.startTuner=function(){var e=n.getAudioContext();e.resume().then(function(){G().then(function(t){n.pitchDetector=new t.Pitch("default",2048,1,e.sampleRate),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){n.scriptProcessor=e.createScriptProcessor(2048,1,1),n.mediaStreamSource=e.createMediaStreamSource(t);var a=e.createAnalyser();a.fftSize=2048,n.mediaStreamSource.connect(a),a.connect(n.scriptProcessor),n.scriptProcessor.connect(e.destination),n.scriptProcessor.addEventListener("audioprocess",n.audioProcessCallback)})})})},n.audioProcessCallback=function(e){var t=n.pitchDetector.do(e.inputBuffer.getChannelData(0));if(t){var a=E(t),r=N(t,a);n.setState({note:k(a),octave:M(a),frequency:t.toFixed(1),cents:r})}},n.handleStartTuner=function(){n.setState({isTunerActive:!0},function(){n.startTuner()})},n.handleStopTuner=function(){n.setState(B,function(){n.mediaStreamSource&&n.mediaStreamSource.mediaStream&&n.mediaStreamSource.mediaStream.stop&&n.mediaStreamSource.mediaStream.stop(),n.scriptProcessor.removeEventListener("audioprocess",n.audioProcessCallback),n.mediaStreamSource=null})},n}return Object(h.a)(t,e),Object(f.a)(t,[{key:"componentWillUnmount",value:function(){this.handleStopTuner()}},{key:"render",value:function(){var e=this.state,t=e.note,n=e.octave,a=e.cents,o=e.frequency,i=e.isTunerActive;return r.a.createElement(I,null,r.a.createElement(C,{cents:a}),r.a.createElement(T,null,r.a.createElement(O,null,t),r.a.createElement(q,null,n)),r.a.createElement(P,null,r.a.createElement("span",null,o)," Hz"),r.a.createElement(D,{isActive:i,onClick:i?this.handleStopTuner:this.handleStartTuner},r.a.createElement(z,{isActive:i})))}}]),t}(a.Component);i.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement(F,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.fef30d2a.chunk.js.map